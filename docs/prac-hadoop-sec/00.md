# 零、简介

去年，我为一个客户设计安全性，他正在寻找一本关于 Hadoop 领域安全性实现的参考书，这样他就可以避免已知的问题和陷阱。令我懊恼的是，我找不到一本详细介绍 Hadoop 安全方面的书，也找不到一本为打算保护存储敏感数据的集群的人提供选择的书。我既失望又惊讶。每个计划保护其 Hadoop 集群的人肯定都经历过类似的挫折。所以我决定将我的安全设计经验应用到更广泛的领域，并自己写这本书。

随着 Hadoop 日益获得更多的公司支持和使用，我们都需要认识并关注 Hadoop 的安全方面。企业实现还涉及遵循数据保护和机密性的法规和法律，这些安全问题是使 Hadoop“企业就绪”的驱动力

开源软件通常缺乏有组织的文档和关于独特执行特定功能任务的共识，Hadoop 在这方面也不例外。过去几年中涌现的各种发行版在实现各种 Hadoop 功能方面有所不同，有些功能，如授权或加密，甚至不是所有的供应商发行版都提供的。所以，在这方面，Hadoop 就像 80 年代或 90 年代的 Unix:开源开发导致了大量的变化，在某些情况下偏离了功能。由于这些变化，设计一个通用策略来保护您的 Hadoop 安装是很困难的。在本书中，我试图提供一个适用于大多数情况的策略和解决方案(可能的话是开源解决方案)，但也可能存在例外，尤其是如果您使用的是不太知名的 Hadoop 发行版。

开发这本书是一个伟大而激动人心的旅程，我故意说“开发”，因为我相信创作一本技术书籍非常类似于从事一个软件项目。有挑战，有回报，有令人兴奋的发展，当然，还有不可预见的障碍——更不用说最后期限了！

这本书是给谁的

对于计划生产 Hadoop 环境的 IT 经理或想要保护其环境的 Hadoop 管理员来说，这本书是一个极好的资源。这本书也适用于希望在其环境中实现安全性的 Hadoop 开发人员，以及希望了解 Hadoop 安全性的学生。本书假设读者对 Hadoop(尽管第一章回顾了许多基本概念)、Kerberos、关系数据库和 Hive 有基本的了解，并对 Linux 有中级的了解。

这本书的结构

本书分为五个部分:[第一部分](pt1.html)，“Hadoop 及其安全性介绍”，包含[第 1 章](01.html)、[第 2 章](02.html)和[第 3 章](03.html)；[第二部分](pt2.html)“在您的 Hadoop 集群中进行认证和授权”，横跨[第 4 章](04.html)和[第 5 章](05.html)；[第三部分](pt3.html)“审计日志和安全监控”，包含[第 6 章](06.html)和[第 7 章](07.html)；[第四部分](pt4.html)，“Hadoop 加密”，包含[第 8 章](08.html)；第五部分包含四个附录。

以下是每一章更详细的预览:

*   第 1 章“理解安全概念”概述了安全、安全工程框架、安全协议(包括 Kerberos)和可能的安全攻击。本章还解释了如何保护分布式系统，并以 Microsoft SQL Server 为例讨论了安全系统。
*   [第 2 章](02.html)“Hadoop 简介”，介绍了 Hadoop 架构和 Hadoop 分布式文件系统(HDFS)，并解释了 HDFS 固有的安全问题以及为什么很容易侵入 HDFS 安装。还介绍了 Hadoop 的 MapReduce 框架，并讨论了它的安全性缺点。最后，它讨论了 Hadoop 堆栈。
*   [第 3 章](03.html)“Hadoop 安全性简介”是为 Hadoop 设计和实现安全性的技术路线图。它引入了认证(使用 Kerberos)来提供安全的访问、授权来指定访问级别，以及监控未授权的访问或不可预见的恶意攻击(使用 Ganglia 或 Nagios 等工具)。您还将了解记录对 Hadoop 守护进程的所有访问的重要性(使用 Log4j 日志记录系统)以及数据加密的重要性(传输中和静态)。
*   [第 4 章](04.html)“Hadoop 中的开源认证”，讨论如何使用开源解决方案保护您的 Hadoop 集群。它从使用 PuTTY 保护客户端开始，然后描述 Kerberos 架构，并一步一步地详细介绍 Hadoop 的 Kerberos 实现。此外，您将学习如何保护使用 RPC(远程过程调用)协议的进程间通信，如何加密 HTTP 通信，以及如何保护使用 DTP(数据传输协议)的数据通信。
*   [第 5 章](05.html)“实现细粒度授权”，从确定安全需求的方法(基于应用程序)开始，然后研究为应用程序设计细粒度授权的方法。目录级和文件级权限用一个真实的例子来演示，然后用 HDFS 访问控制列表和 Apache Sentry with Hive 来重新实现同一个例子。
*   [第 6 章](06.html)“Hadoop 日志:关联和解释”，讨论了日志记录的安全性使用。在对 Log4j API 以及如何使用它进行审计日志记录进行了高级讨论之后，本章将研究 Log4j 日志记录级别及其用途。您将了解如何关联 Hadoop 日志以有效实现安全性，了解 Hadoop 分析以及使用 Splunk 的可能实现。
*   第 7 章“Hadoop 中的监控”讨论了安全监控。它首先讨论监控系统需要的特性，重点是监控分布式集群。此后，本文讨论了可以用于安全目的的 Hadoop 指标，并研究了 Ganglia 和 Nagios 的使用，这是两个最流行的 Hadoop 监控应用程序。本文最后讨论了一些对 Ganglia 和 Nagios 有用的插件，这些插件提供了与安全性相关的功能，还讨论了 Ganglia 与 Nagios 的集成。
*   [第 8 章](08.html)“Hadoop 中的加密”从一些数据加密基础知识开始，讨论了流行的加密算法及其应用(证书、密钥、哈希函数、数字签名)，定义了 Hadoop 集群可以加密的内容，并列出了一些流行的加密供应商选项。下面是 HDFS 和 Hive 静态数据的详细实现，展示了英特尔的实际分布。本章以使用 Amazon Web Services 的 Elastic MapReduce VM (EMR)逐步实现静态加密作为结束。

下载代码

这本书的源代码可以在 Apress 网站的下载部分获得。

联系作者

您可以在`blakhe@aol.com`或`bclakhe@gmail.com`到达 Bhushan Lakhe。